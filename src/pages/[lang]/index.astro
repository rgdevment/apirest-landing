---
import ServiceCard from '../../components/ServiceCard.astro';
import { siteData } from '../../i18n/data';
import Layout from '../../layouts/Layout.astro';

export function getStaticPaths() {
  return [
    { params: { lang: 'es' } },
    { params: { lang: 'en' } },
  ];
}

const { lang } = Astro.params;
const t = siteData[lang as keyof typeof siteData];

const nextLang = lang === 'es' ? 'en' : 'es';
const nextLabel = lang === 'es' ? 'English' : 'Español';
---

<Layout title={t.meta.title}>
	<header class="py-24 border-b border-slate-200 relative overflow-hidden">
		<div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-4xl bg-gradient-to-r from-violet-400/10 via-purple-400/10 to-fuchsia-400/10 blur-[120px] -z-10"></div>

        <div class="absolute top-6 right-6 z-20">
            <a href={`/${nextLang}`} class="text-xs font-bold px-3 py-1 rounded-full border border-slate-300 bg-white/80 backdrop-blur-sm text-slate-700 hover:text-slate-900 hover:border-slate-400 hover:bg-white transition-all shadow-sm">
                {nextLabel}
            </a>
        </div>

		<div class="max-w-4xl mx-auto text-center px-6">
			<div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/80 backdrop-blur-sm border border-emerald-200 text-emerald-700 text-xs font-mono mb-8 shadow-sm">
				<span class="flex h-2 w-2 rounded-full bg-emerald-500 shadow-[0_0_12px_rgba(16,185,129,0.5)]"></span>
				{t.hero.status}
			</div>

			<h1 class="text-5xl md:text-7xl font-bold text-gray-900 mb-8 tracking-tight" set:html={t.hero.title} />

			<p class="text-xl text-gray-700 leading-relaxed max-w-2xl mx-auto mb-10" set:html={t.hero.subtitle} />

			<div class="flex flex-col sm:flex-row justify-center gap-4">
				<a href="#directory" class="px-8 py-4 bg-gradient-to-r from-slate-900 to-slate-800 text-white font-bold rounded-lg hover:from-slate-800 hover:to-slate-700 transition-all shadow-lg shadow-slate-900/20 hover:shadow-xl hover:shadow-slate-900/30">
					{t.hero.ctaMain}
				</a>
				<a href="https://github.com/rgdevment" target="_blank" class="px-8 py-4 bg-white text-gray-800 font-bold rounded-lg border-2 border-slate-300 hover:border-slate-400 hover:bg-slate-50 transition-all flex items-center justify-center gap-2 shadow-sm">
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
					{t.hero.ctaGithub}
				</a>
			</div>
		</div>
	</header>

	<section id="directory" class="py-24 px-6 max-w-6xl mx-auto">
		<div class="mb-12">
			<h2 class="text-3xl font-bold text-gray-900">{t.directory.title}</h2>
			<p class="text-gray-600 mt-2 text-lg">{t.directory.subtitle}</p>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
			{t.services.map(service => (
				// @ts-ignore
				<ServiceCard {...service} />
			))}
		</div>
	</section>

	<section class="py-24 bg-white/60 backdrop-blur-sm border-y border-slate-200 shadow-sm">
		<div class="max-w-6xl mx-auto px-6">
			<div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">

				<div>
					<h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">
						{t.mission.title}
					</h2>
					<div class="prose prose-lg text-gray-700">
						<p class="mb-6" set:html={t.mission.text1} />
						<p class="mb-6" set:html={t.mission.text2} />
						<p set:html={t.mission.text3} />
					</div>
				</div>

				<div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
					{t.values.map(value => (
						<div class="space-y-3">
							<h3 class="text-lg font-bold text-slate-900 border-l-2 border-slate-700 pl-3">
								{value.title}
							</h3>
							<p class="text-gray-600 text-sm leading-relaxed">
								{value.desc}
							</p>
						</div>
					))}
				</div>

			</div>
		</div>
	</section>

	<footer class="py-12 text-center border-t border-slate-200">
		<p class="text-gray-600 font-mono text-sm">
			Desarrollado con <span class="text-red-500">♥</span> y
			<a href="https://astro.build" target="_blank" class="text-slate-700 hover:text-slate-900 underline decoration-slate-300">Astro</a>
			por <a href="https://github.com/rgdevment" class="text-slate-800 hover:text-slate-950 font-bold">@rgdevment</a>.
		</p>
		<p class="text-gray-500 text-xs mt-2">
			Server Status: <span class="text-emerald-600 font-semibold">Online</span> • Location: <span class="text-gray-600">Local Lab</span>
		</p>
	</footer>
</Layout>
